{"ast":null,"code":"import axios from \"axios\";\nimport serverConfig from \"../config/service.js\";\nimport qs from \"qs\";\n\n// 创建 axios 请求实例\nconst serviceAxios = axios.create({\n  baseURL: \"\",\n  // 基础请求地址\n  timeout: 10000,\n  // 请求超时设置\n  withCredentials: false // 跨域请求是否需要携带 cookie\n});\n\n// 创建请求拦截\nserviceAxios.interceptors.request.use(config => {\n  // 如果开启 token 认证\n  //   if (serverConfig.useTokenAuthorization) {\n  //     config.headers[\"Authorization\"] = localStorage.getItem(\"token\"); // 请求头携带 token\n  //   }\n  //   // 设置请求头\n  //   if(!config.headers[\"content-type\"]) { // 如果没有设置请求头\n  //     if(config.method === 'post') {\n  //       config.headers[\"content-type\"] = \"application/x-www-form-urlencoded\"; // post 请求\n  //       config.data = qs.stringify(config.data); // 序列化,比如表单数据\n  //     } else {\n  //       config.headers[\"content-type\"] = \"application/json\"; // 默认类型\n  //     }\n  //   }\n  //   console.log(\"请求配置\", config);\n  return config;\n}, error => {\n  Promise.reject(error);\n});\n\n// 创建响应拦截\nserviceAxios.interceptors.response.use(res => {\n  let data = res.data;\n  // 处理自己的业务逻辑，比如判断 token 是否过期等等\n  // 代码块\n  return data;\n}, error => {\n  let message = \"\";\n  if (error && error.response) {\n    switch (error.response.status) {\n      case 302:\n        message = \"接口重定向了！\";\n        break;\n      case 400:\n        message = \"参数不正确！\";\n        break;\n      case 401:\n        message = \"您未登录，或者登录已经超时，请先登录！\";\n        break;\n      case 403:\n        message = \"您没有权限操作！\";\n        break;\n      case 404:\n        message = `请求地址出错: ${error.response.config.url}`;\n        break;\n      case 408:\n        message = \"请求超时！\";\n        break;\n      case 409:\n        message = \"系统已存在相同数据！\";\n        break;\n      case 500:\n        message = \"服务器内部错误！\";\n        break;\n      case 501:\n        message = \"服务未实现！\";\n        break;\n      case 502:\n        message = \"网关错误！\";\n        break;\n      case 503:\n        message = \"服务不可用！\";\n        break;\n      case 504:\n        message = \"服务暂时无法访问，请稍后再试！\";\n        break;\n      case 505:\n        message = \"HTTP 版本不受支持！\";\n        break;\n      default:\n        message = \"异常问题，请联系管理员！\";\n        break;\n    }\n  }\n  return Promise.reject(message);\n});","map":{"version":3,"names":["axios","serverConfig","qs","serviceAxios","create","baseURL","timeout","withCredentials","interceptors","request","use","config","error","Promise","reject","response","res","data","message","status","url"],"sources":["/Users/william/0_GIT/customer-service/src/axios/serviceAxios.js"],"sourcesContent":["import axios from \"axios\";\nimport serverConfig from \"../config/service.js\";\nimport qs from \"qs\";\n\n// 创建 axios 请求实例\nconst serviceAxios = axios.create({\n    baseURL: \"\", // 基础请求地址\n    timeout: 10000, // 请求超时设置\n    withCredentials: false, // 跨域请求是否需要携带 cookie\n});\n\n\n// 创建请求拦截\nserviceAxios.interceptors.request.use(\n    (config) => {\n      // 如果开启 token 认证\n    //   if (serverConfig.useTokenAuthorization) {\n    //     config.headers[\"Authorization\"] = localStorage.getItem(\"token\"); // 请求头携带 token\n    //   }\n    //   // 设置请求头\n    //   if(!config.headers[\"content-type\"]) { // 如果没有设置请求头\n    //     if(config.method === 'post') {\n    //       config.headers[\"content-type\"] = \"application/x-www-form-urlencoded\"; // post 请求\n    //       config.data = qs.stringify(config.data); // 序列化,比如表单数据\n    //     } else {\n    //       config.headers[\"content-type\"] = \"application/json\"; // 默认类型\n    //     }\n    //   }\n    //   console.log(\"请求配置\", config);\n      return config;\n    },\n    (error) => {\n      Promise.reject(error);\n    }\n);\n\n// 创建响应拦截\nserviceAxios.interceptors.response.use(\n    (res) => {\n      let data = res.data;\n      // 处理自己的业务逻辑，比如判断 token 是否过期等等\n      // 代码块\n      return data;\n    },\n    (error) => {\n      let message = \"\";\n      if (error && error.response) {\n        switch (error.response.status) {\n          case 302:\n            message = \"接口重定向了！\";\n            break;\n          case 400:\n            message = \"参数不正确！\";\n            break;\n          case 401:\n            message = \"您未登录，或者登录已经超时，请先登录！\";\n            break;\n          case 403:\n            message = \"您没有权限操作！\";\n            break;\n          case 404:\n            message = `请求地址出错: ${error.response.config.url}`;\n            break;\n          case 408:\n            message = \"请求超时！\";\n            break;\n          case 409:\n            message = \"系统已存在相同数据！\";\n            break;\n          case 500:\n            message = \"服务器内部错误！\";\n            break;\n          case 501:\n            message = \"服务未实现！\";\n            break;\n          case 502:\n            message = \"网关错误！\";\n            break;\n          case 503:\n            message = \"服务不可用！\";\n            break;\n          case 504:\n            message = \"服务暂时无法访问，请稍后再试！\";\n            break;\n          case 505:\n            message = \"HTTP 版本不受支持！\";\n            break;\n          default:\n            message = \"异常问题，请联系管理员！\";\n            break;\n        }\n      }\n      return Promise.reject(message);\n    }\n);\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,OAAOC,EAAE,MAAM,IAAI;;AAEnB;AACA,MAAMC,YAAY,GAAGH,KAAK,CAACI,MAAM,CAAC;EAC9BC,OAAO,EAAE,EAAE;EAAE;EACbC,OAAO,EAAE,KAAK;EAAE;EAChBC,eAAe,EAAE,KAAK,CAAE;AAC5B,CAAC,CAAC;;AAGF;AACAJ,YAAY,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAChCC,MAAM,IAAK;EACV;EACF;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACE,OAAOA,MAAM;AACf,CAAC,EACAC,KAAK,IAAK;EACTC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AACvB,CAAC,CACJ;;AAED;AACAT,YAAY,CAACK,YAAY,CAACO,QAAQ,CAACL,GAAG,CACjCM,GAAG,IAAK;EACP,IAAIC,IAAI,GAAGD,GAAG,CAACC,IAAI;EACnB;EACA;EACA,OAAOA,IAAI;AACb,CAAC,EACAL,KAAK,IAAK;EACT,IAAIM,OAAO,GAAG,EAAE;EAChB,IAAIN,KAAK,IAAIA,KAAK,CAACG,QAAQ,EAAE;IAC3B,QAAQH,KAAK,CAACG,QAAQ,CAACI,MAAM;MAC3B,KAAK,GAAG;QACND,OAAO,GAAG,SAAS;QACnB;MACF,KAAK,GAAG;QACNA,OAAO,GAAG,QAAQ;QAClB;MACF,KAAK,GAAG;QACNA,OAAO,GAAG,qBAAqB;QAC/B;MACF,KAAK,GAAG;QACNA,OAAO,GAAG,UAAU;QACpB;MACF,KAAK,GAAG;QACNA,OAAO,GAAI,WAAUN,KAAK,CAACG,QAAQ,CAACJ,MAAM,CAACS,GAAI,EAAC;QAChD;MACF,KAAK,GAAG;QACNF,OAAO,GAAG,OAAO;QACjB;MACF,KAAK,GAAG;QACNA,OAAO,GAAG,YAAY;QACtB;MACF,KAAK,GAAG;QACNA,OAAO,GAAG,UAAU;QACpB;MACF,KAAK,GAAG;QACNA,OAAO,GAAG,QAAQ;QAClB;MACF,KAAK,GAAG;QACNA,OAAO,GAAG,OAAO;QACjB;MACF,KAAK,GAAG;QACNA,OAAO,GAAG,QAAQ;QAClB;MACF,KAAK,GAAG;QACNA,OAAO,GAAG,iBAAiB;QAC3B;MACF,KAAK,GAAG;QACNA,OAAO,GAAG,cAAc;QACxB;MACF;QACEA,OAAO,GAAG,cAAc;QACxB;IAAM;EAEZ;EACA,OAAOL,OAAO,CAACC,MAAM,CAACI,OAAO,CAAC;AAChC,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}